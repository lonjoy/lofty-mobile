<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8"/>
		<title>lofty 前端基础框架</title>
        <meta name="viewport" content="initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="shortcut icon" href="favicon.ico" />
		<link href="http://loftyjs.com/fdevlib/static/css/lofty/item.min.css" rel="stylesheet" />
    </head>
    <body>
		<div class="doc" id="doc">
			<div class="main">
				<!--<div class="style-menu" id="dpl_style_menu">
					
				</div> -->
					
				<h1>crazyimg : 图片相应式
					<div class="authorInfo">
						<a href="http://amos.im.alisoft.com/msg.aw?v=2&amp;uid=xudanhust&amp;site=cntaobao&amp;s=1" target="_blank">
							<img width="17" border="0" align="absMiddle" height="16" src="http://img.china.alibaba.com/cms/upload/search/fdevlib/alitalk.png">
							<span class="author">洪珊珊</span>
						</a>
				    </div>
				</h1>
				
				<div class="row-fluid">
					<div class="span19 demo-container">
					  <iframe id="dpl_demo" class="demo-frame" width="100%" height="100%" frameborder="0"></iframe>
					</div>
					<div class="span4 nav-list">
					  <h2 class="nav-title">示例</h2>
					  <div id="dpl_menubar">
					  
					    <!--demo页面的路径统一放在这个json变量里面定义-->
						<script type="text/javascript">
							var demoArray = [
								{'txt':'默认规则', 'href':'../examples/demo1.html'},
                                {'txt':'在配置项中更换规则', 'href':'../examples/demo2.html'},
                                {'txt':'在图片上更换规则', 'href':'../examples/demo3.html'}
							];
						</script>
					  </div>
					</div>
				</div>
				
				<h2>介绍</h2>
				<p>图片相应式组件</p>
				
				<h2>使用方法</h2>
				
<pre class="prettyprint linenums"> 
define(['fui/crazyimg/1.0'], function(Crazyimg){
	var crazyImg = new Crazyimg();
});
</pre>			
            <h2>标签自定义属性</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <td>属性名</td>
                        <td>属性值说明</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>data-origimg</td>
                        <td>必选；原始图片，如果使用默认配置，图片URL中必须包含宽度和高度</td>
                    </tr>
                    <tr>
                        <td>data-imgrule</td>
                        <td>可选；可以单独对某张图片制定特殊的规则，值的格式和配置参数中的"rule"一致</td>
                    </tr>
                </tbody>
            </table>
			<h2>配置参数</h2>
				
			  <table class="table table-striped">
				<thead>
					  <tr>
					  <th class="name">配置参数</th>
					  <th class="param">参数类型/可选值</th>
					  <th class="return">参数默认值</th>
					  <th class="function">作用说明</th>
					  </tr>
				  </thead>
				  <tbody>
					  <tr>
						  <td>container </td>
						  <td>String | 元素对象</td>
						  <td>document</td>
						  <td>容器</td>
					  </tr>
					  <tr>
						  <td>atAttr </td>
						  <td>String</td>
						  <td>'src'</td>
						  <td>将适配后的图片URL设置在哪个标签属性值上</td>
					  </tr>
					  <tr>
						  <td>rule </td>
						  <td>Object</td>
						  <td>{dpr:..., ns:..., reg:..., replaceImg:...}</td>
						  <td>图片适配规则</td>
					  </tr>			  
					  <tr>
						  <td>dpr</td>
						  <td>Object</td>
						  <td>{'1':1, '2':2}</td>
						  <td>DPR适配规则；数字key表示dpr值，数字value表示适配的图片倍数；对象中的value也可以是字符串；如：{'1':'75x75'},表示dpr=1时取75x75大小的图片</td>
					  </tr>
					  <tr>
						  <td>ns</td>
						  <td>Object</td>
						  <td>{'2g':1}</td>
						  <td>网络适配规则，默认值表示2g网络下取一倍大小的图片，其他网络状态下走dpr规则</td>
					  </tr>
					  <tr>
						  <td>reg</td>
						  <td>正则表达式</td>
						  <td>/(\.((\d+)x(\d+)|search)){0,1}.jpg$/</td>
						  <td>获取图片宽度、高度的正则表达式</td>
					  </tr>
					  <tr>
						  <td>replaceImg</td>
						  <td>Function</td>
						  <td>null</td>
						  <td>替换规则函数；当正则表达式改变时，一般情况下需要传入此函数；否则无需传</td>
					  </tr>
                      <tr>
						  <td>eachAfter</td>
						  <td>Function</td>
						  <td>null</td>
						  <td>每张图片被修改指定属性值后执行的回调函数</td>
					  </tr>	
                      <tr>
						  <td>complete</td>
						  <td>Function</td>
						  <td>null</td>
						  <td>所有图片被修改指定属性值后执行的回调函数</td>
					  </tr>	
                 </tbody>
			  </table>
			  
			</div>
		</div>
		<script src="http://loftyjs.com/fdevlib/static/js/lofty/item.min.js"></script>
		<script>
			prettyPrint();
		</script>
</body>
</html>