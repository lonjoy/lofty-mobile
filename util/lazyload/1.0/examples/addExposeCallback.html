<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>lofty 前端基础框架</title>
<meta name="viewport" content="initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">

<!-- Demo页面自身所需的基本样式，全局Reset文件在demo-mobile.min.css中引入 -->
<link href="http://loftyjs.com/fdevlib/static/css/lofty/demo-mobile.min.css" rel="stylesheet" />

<script src="http://style.c.aliimg.com/m/lofty/port/lofty.js"></script>
<script src="http://style.c.aliimg.com/m/lofty/gallery/appframework/af.js"></script>

<style type="text/css" media="all">
#wrapper {
	height:600px;
	position: relative;
}
.offerImg,.offerImg2{
	width:220px;
	height:170px;
	margin:20px;
	display:block;
}
.lazyload-textarea{
	visibility: hidden;
	height: 0;
	width: 0;
	padding: 0;
	border: none;
	margin: 0;
}

</style>
</head>
<body>
<div id="wrapper">
	<div class="test">
		<img class="offerImg" data-test="offer1" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2013/530/248/847842035_1398448438.220x220.jpg"></img>
		<img class="offerImg" data-test="offer2" data-lazyload-src="http://i04.c.aliimg.com/img/ibank/2011/560/637/457736065_1714284298.220x220.jpg"></img>
		<img class="offerImg" data-test="offer3" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2012/446/243/565342644_1906858889.220x220.jpg"></img>
		<textarea class="lazyload-textarea">
			<img class="offerImg" data-test="offer4" data-lazyload-src="http://i04.c.aliimg.com/img/ibank/2013/283/108/911801382_1481338258.220x220.jpg"></img>
			<img class="offerImg" data-test="offer5" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2013/260/755/962557062_104937165.220x220.jpg"></img>
			<img class="offerImg aaa" data-test="offer6" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2012/016/106/669601610_2019159583.220x220.jpg"></img>
			<img class="offerImg aaa" data-test="offer7" data-lazyload-src="http://i05.c.aliimg.com/img/ibank/2012/357/866/709668753_1047023616.220x220.jpg"></img>
			<img class="offerImg" data-test="offer8" data-lazyload-src="http://i02.c.aliimg.com/img/ibank/2012/291/718/730817192_722888204.220x220.jpg"></img>
			<img class="offerImg" data-test="offer9" data-lazyload-src="http://i02.c.aliimg.com/img/ibank/2011/824/757/462757428_1399142984.220x220.jpg"></img>
			<img class="offerImg" data-test="offer10" data-lazyload-src="http://i05.c.aliimg.com/img/ibank/2011/772/148/465841277_789219996.220x220.jpg"></img>
			<img class="offerImg" data-test="offer11" data-lazyload-src="http://i04.c.aliimg.com/img/ibank/2011/560/637/457736065_1714284298.220x220.jpg"></img>
			<img class="offerImg" data-test="offer12" data-lazyload-src="http://i05.c.aliimg.com/img/ibank/2013/304/387/831783403_1915530726.220x220.jpg"></img>
			<img class="offerImg" data-test="offer13" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/149/146/639641941_1913313061.220x220.jpg"></img>
			<img class="offerImg" data-test="offer14" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/166/793/963397661_536505440.220x220.jpg"></img>
			<img class="offerImg" data-test="offer15" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/849/327/758723948_1941349982.220x220.jpg"></img>
			<img class="offerImg" data-test="offer16" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/196/437/796734691_1120733939.220x220.jpg"></img>

		
			<div style="background-color:green" id="lazyDiv">
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
				<p>此处为懒加载区域</p>
			</div>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2010/083/137/99731380_314595493.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/550/504/595405055_3120724.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/367/149/621941763_1616888880.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2012/313/232/502232313_2015933175.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2011/864/562/304265468_1327675561.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/offer/47/55/85/83/4/475585834.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/ibank/2013/392/948/741849293_2028178577.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://img.china.alibaba.com/img/offer2/2010/756/925/426756925_465d0a3aced5896ca8311776b46e5e36.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2013/530/248/847842035_1398448438.220x220.jpg"></img>
			<img class="offerImg2" data-lazyload-src="http://i03.c.aliimg.com/img/ibank/2011/240/629/382926042_547130262.220x220.jpg"></img>
		</textarea>
	</div>
</div>
<script type="text/javascript">
define(['util/lazyload/1.0','fui/scroller/1.0','jquery'], function(LazyLoad,Scroller,$) {
	var myScroll = new Scroller({
		container: '#wrapper',
		checkDOMChanges:true
	});
	var lazy = new LazyLoad({
		container:'#wrapper',
		scroller:myScroll,
		autoLoad:false
	});
	//可一次注册多个回调
	lazy.addCallBack({
		".offerImg":function(el){
			console.log($(el).data('test'))
		},
		".aaa":function(){
			console.log("aaa")
		}
		
	});
	//单个注册
	lazy.addCallBack(".offerImg2",function(){
		console.log("offerImg2")
	});
	lazy.addCallBack("#lazyDiv",function(){
		console.log("lazyDiv");
	});
	lazy.start();
	
})

</script>
  <!-- Demo页面自身所需的JS，实际项目中无需引入 -->
<script src="http://loftyjs.com/fdevlib/static/js/lofty/demo.min.js" type="text/javascript"></script>	
</body>
</html>